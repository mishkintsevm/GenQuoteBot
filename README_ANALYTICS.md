# Интеграция Google Analytics 4

## Почему нужна аналитика в Telegram-боте

- **Аналитика использования кнопок бота**  
  С помощью GA4 можно следить за востребованностью функций.


- **Оценка вовлечённости**  
  Счётчики событий (start, random_quote, get_topic_quote и т.д.) позволяют отслеживать, сколько раз за день и в каком часовом поясе бот активируется, сколько пользователей возвращаются к боту и т.д.


- **Принятие решений на основе данных**  
  Опираясь на результаты метрики, можно найти редко используемые функции. Например, если `next_author_quote` нажимают редко - может быть, стоит упростить навигацию по авторам.


- **Бесплатный и надёжный сервис**  
  Google Analytics - общепринятая платформа, устойчиво собирает и хранит данные, предоставляет Web-интерфейс и API для автоматизированной обработки метрик. Помимо этого есть функционал создания расширенных аналитических инструментов.


- **Простота интеграции**  
  Ознакомившись с другими инструментами, GA4 оказался проще в подключении и быстрей выдал результаты в режиме реального времени.

---

## Как зарегистрировать аккаунт GA4

1. Перейдите в [Google Analytics](https://analytics.google.com/) и авторизуйтесь под своим аккаунтом. 


2. Нажмите **«Администратор»** (иконка шестерёнки), затем в колонке **«Ресурс»** — **«Создать ресурс»**.


3. Выберите тип **«Web»**, укажите имя (например, `GenQuoteBot`), в качестве домена можно указать `telegram.me` или url бота.


4. После создания ресурса откройте **«Потоки данных»** → выберите созданный поток → скопируйте **Measurement ID** (формат `G-XXXXXXXXXX`).  


5. В том же разделе **«Поток данных»** перейдите на вкладку **«Параметры потока»** → **«Создать API secret»** → задайте имя и скопируйте **API secret**.


6. Вы получите данные для добавления в .env файл:
    ```
    GA4_MEASUREMENT_ID=G-XXXXXXXXXX
    GA4_API_SECRET=<ваш_API_secret>
    ```
---